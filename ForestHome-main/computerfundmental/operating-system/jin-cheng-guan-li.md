# 进程管理

## Intro

现代操作系统的重要特点是在保证安全的前提下，程序并发执行，以及系统所拥有的资源被共享和系统的用户随机地使用。这3个特点是互相联系和互相依赖的，它们是互相独立的用户如何使用有限的计算机系统资源的反映。

通常，操作系统的重要任务之一是使用户充分、有效地利用系统资源。采用一个什么样的概念来描述计算机程序的执行过程和作为资源分配的基本单位，才能充分反映操作系统的执行并发、资源共享及用户随机的特点呢？这个概念就是进程。为了讲清进程的概念以及引入进程概念的必要性等，下面将从操作系统的特点讲起。

## 进程的概念

**程序** 程序(program)描述计算机所要完成的具有独立功能的，并在时间上按严格次序前后相继的计算机操作序列集合，是一个静态的概念。它体现了编程人员要求计算机完成相应功能时所应该采取的顺序步骤。

**程序顺序执行** 计算机的CPU是通过时序脉冲来控制顺序执行指令的。

**多道程序系统中执行环境的变化**

1. 独立性
2. 随机性
3. 资源共享性

**程序并发执行** 所谓并发执行，是为了增强计算机系统的处理能力和提高资源利用率所采取的一种同时操作技术。程序的并发执行可进一步分为两种：

* 第一种是多道程序系统的程序执行环境变化所引起的多道程序的并发执行。**因此，尽管多道程序的并发执行在宏观上是同时进行的，但在微观上仍是顺序执行的；**
* 第二种并发执行是在某道程序的几个程序段中（例如几个程序）包含着一部分可以同时执行或顺序颠倒执行的代码。

**并发执行概念** 一组在逻辑上互相独立的程序或程序段在执行过程中，其执行时间在客观上互相重叠，即一个程序段的执行尚未结束，另一个程序段的执行已经开始的这种执行方式。

_并发与并行的概念辨析_ 并行：一组程序按独立的、异步的速度执行。并行执行不等于时间上的重叠。而是同时执行多个任务 并发：在实际上并不是同时（并行）执行，而是微观上的交错执行。

**进程的定义** 主要关注动态的执行过程这一概念。即：并发执行的程序在执行过程中分配和管理资源的基本单位。

_进程和程序的概念辨析_

* 进程是动态的，程序是静态的。进程强调执行过程，程序是指令的集合。
* 进程具有并发特性，程序没有。进程具有独立性与异步性。
* 进程是竞争计算机资源的基本单位。
* 不同的进程可以包含同一个程序，只要程序对应的数据集不同。

> 讲解了为什么要引入进程 计算机要实现并行处理，开始使用程序的概念所谓单位，发现无法满足多道程序三特性：独立，随机，资源共享。遂引入新的基本单位来控制程序的并行——进程。其更多的关注于程序执行过程。

## 进程的描述

_一个进程是一个程序对某个数据集的执行过程，是分配资源的基本单位。那么，从处理机的活动角度来看，又如何识别描述程序执行活动的进程呢？_

### 进程的静态描述

* 进程控制块PCB：进程的描述信息、控制信息和资源信息。进程动态特征的集中反馈。
* 程序段
* 数据集：程序执行时必不可少的工作区与操作对象。

#### 进程控制块PCB

包含一个进程的描述信息，控制信息和资源信息。PCB集中反应一个进程的动态特征。进程并发执行时，由于资源共享，带来各进程之间的相互制约。

显然，为了反映这些制约关系和资源共享关系，在创建一个进程时，应首先创建其PCB,然后才能根据PCB中的信息对进程实施有效的管理和控制。当一个进程完成其功能之后，系统则释放PCB,进程也随之消亡。

* 描述信息
* 控制信息
* 资源管理信息
*   CPU现场保护结构

    > 总之，PCB是系统感知进程存在的唯一实体。通过对PCB的操作，系统为有关进程分配资源从而使得有关进程得以被调度执行；而完成进程所要求功能的程序段的有关地址，以及程序段在进程过程中因某种原因被停止执行后的现场信息也都在PCB中。最后，当进程执行结束后，则通过释放PCB来释放进程所占有的各种资源。

## 进程状态及其转换

## 进程控制

## 进程互斥

## 进程同步

## 进程通信

## 死锁

## 线程
